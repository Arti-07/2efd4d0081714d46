PERSONALITY_QUESTIONS = [
    {"id": 1, "question": "Вы регулярно заводите новые знакомства", "dimension": "mind", "reverse": False},
    {"id": 2, "question": "Вы часто погружаетесь в размышления настолько глубоко, что не замечаете происходящего вокруг", "dimension": "mind", "reverse": True},
    {"id": 3, "question": "Вы стараетесь не привлекать к себе слишком много внимания", "dimension": "mind", "reverse": True},
    {"id": 4, "question": "Вы быстро вовлекаетесь в общественную жизнь на новом месте", "dimension": "mind", "reverse": False},
    {"id": 5, "question": "Вы легко представляете события, которые могут произойти в будущем", "dimension": "energy", "reverse": False},
    {"id": 6, "question": "Вы часто полагаетесь на интуицию при принятии решений", "dimension": "energy", "reverse": False},
    {"id": 7, "question": "Вы предпочитаете проверенные подходы новым экспериментальным методам", "dimension": "energy", "reverse": True},
    {"id": 8, "question": "Вы склонны фантазировать о вещах, которые вряд ли произойдут в реальности", "dimension": "energy", "reverse": False},
    {"id": 9, "question": "Логика важнее эмоций при принятии важных решений", "dimension": "nature", "reverse": False},
    {"id": 10, "question": "Вы стараетесь не делать ничего, что могло бы задеть чувства других людей", "dimension": "nature", "reverse": True},
    {"id": 11, "question": "Чувства людей для вас важнее истины в спорных ситуациях", "dimension": "nature", "reverse": True},
    {"id": 12, "question": "Вы больше цените объективность, чем эмпатию", "dimension": "nature", "reverse": False},
    {"id": 13, "question": "Вы предпочитаете планировать заранее, а не действовать спонтанно", "dimension": "tactics", "reverse": False},
    {"id": 14, "question": "Вы обычно откладываете принятие важных решений до последнего момента", "dimension": "tactics", "reverse": True},
    {"id": 15, "question": "Вам нравится иметь четкий план действий, а не импровизировать", "dimension": "tactics", "reverse": False},
    {"id": 16, "question": "Вы чувствуете себя комфортно в неопределенных ситуациях", "dimension": "tactics", "reverse": True},
    {"id": 17, "question": "Вы часто сомневаетесь в своих способностях", "dimension": "identity", "reverse": True},
    {"id": 18, "question": "Вы уверены в своих силах даже в сложных ситуациях", "dimension": "identity", "reverse": False},
    {"id": 19, "question": "Вас сильно задевает критика", "dimension": "identity", "reverse": True},
    {"id": 20, "question": "Вы легко справляетесь со стрессом", "dimension": "identity", "reverse": False},
    {"id": 21, "question": "Вам больше нравятся групповые активности, чем проводить время в одиночестве", "dimension": "mind", "reverse": False},
    {"id": 22, "question": "Вы предпочитаете обсуждать философские концепции, а не практические вопросы", "dimension": "energy", "reverse": False},
    {"id": 23, "question": "При принятии решений вы больше полагаетесь на разум, чем на сердце", "dimension": "nature", "reverse": False},
    {"id": 24, "question": "Вы предпочитаете завершать дела досрочно, а не в последний момент", "dimension": "tactics", "reverse": False},
    {"id": 25, "question": "Вы спокойно воспринимаете неудачи", "dimension": "identity", "reverse": False},
    {"id": 26, "question": "После долгого общения вы чувствуете усталость", "dimension": "mind", "reverse": True},
    {"id": 27, "question": "Вас больше интересуют абстрактные идеи, чем конкретные факты", "dimension": "energy", "reverse": False},
    {"id": 28, "question": "Вы легко можете поставить себя на место другого человека", "dimension": "nature", "reverse": True},
    {"id": 29, "question": "Вы составляете списки дел и следуете им", "dimension": "tactics", "reverse": False},
    {"id": 30, "question": "Вы часто переживаете о будущем", "dimension": "identity", "reverse": True},
]

PERSONALITY_TYPES = {
    "INTJ-A": {
        "name": "Архитектор (Уверенный)",
        "description": "Стратегический мыслитель с планом на все случаи жизни.",
        "full_description": "Архитекторы — это стратегические мыслители, мастера долгосрочного планирования. Они обладают богатым воображением, но при этом решительны, амбициозны, но скрытны, любознательны, но не тратят энергию впустую. Уверенные Архитекторы доверяют своей интуиции и логике, что делает их превосходными в создании и реализации сложных систем и стратегий.",
        "strengths": "Быстро обучаются, независимы, решительны, целеустремленны, открыты новому, стратегически мыслят, высокие стандарты, уверенность в себе",
        "weaknesses": "Чрезмерно аналитичны, презрение к эмоциям, судят слишком строго, чрезмерно независимы, перфекционизм",
        "career_advice": "Архитекторы преуспевают в областях, где требуется стратегическое мышление и независимая работа. Идеально подходят технические и научные сферы, где можно разрабатывать системы и решать сложные задачи. Важно найти баланс между независимостью и командной работой.",
        "careers": ["Системный аналитик", "Data Scientist", "Архитектор ПО", "Стратегический консультант", "Научный исследователь"]
    },
    "INTJ-T": {
        "name": "Архитектор (Турбулентный)",
        "description": "Стратегический мыслитель, стремящийся к совершенству.",
        "full_description": "Турбулентные Архитекторы сочетают стратегическое мышление с постоянным стремлением к самосовершенствованию. Они более чувствительны к стрессу и критике, чем их уверенные коллеги, но это делает их более гибкими и открытыми к обратной связи. Постоянно ищут способы улучшить себя и свои проекты.",
        "strengths": "Аналитический ум, стремление к совершенству, открытость к обучению, высокая мотивация к развитию, внимание к деталям",
        "weaknesses": "Склонность к перфекционизму, чувствительность к критике, могут быть слишком самокритичны, переживание за будущее",
        "career_advice": "Подходят роли, где ценится глубокий анализ и постоянное совершенствование процессов. Важно работать в поддерживающей среде, где конструктивная критика воспринимается позитивно. Рекомендуется развивать уверенность в своих решениях.",
        "careers": ["Аналитик данных", "Разработчик ПО", "Научный сотрудник", "Бизнес-аналитик", "Стратегический планировщик"]
    },
    "INTP-A": {
        "name": "Ученый (Уверенный)",
        "description": "Инновационный изобретатель с неиссякаемой жаждой знаний.",
        "full_description": "Ученые — это философы и мечтатели, которые постоянно задают вопрос 'почему?'. Они ценят точность и логику превыше всего, любят работать с абстрактными концепциями и теориями. Уверенные Ученые независимы в своих исследованиях и не нуждаются во внешнем одобрении.",
        "strengths": "Аналитический склад ума, креативность, объективность, оригинальное мышление, энтузиазм к новым идеям, независимость",
        "weaknesses": "Нечувствительность к чувствам других, не любят рутину, могут быть нетерпеливы к правилам, склонны к прокрастинации",
        "career_advice": "Идеальны для исследовательской и теоретической работы. Процветают в среде, где есть интеллектуальная свобода и возможность экспериментировать. Важно находить практическое применение своим идеям и развивать навыки коммуникации.",
        "careers": ["Программист", "Физик-теоретик", "Математик", "Философ", "Data Scientist"]
    },
    "INTP-T": {
        "name": "Ученый (Турбулентный)",
        "description": "Инновационный мыслитель, склонный к самоанализу.",
        "full_description": "Турбулентные Ученые сочетают интеллектуальную любознательность с высокими стандартами к себе. Они более восприимчивы к критике и склонны постоянно пересматривать свои теории и идеи. Это делает их гибкими исследователями, открытыми к новым подходам.",
        "strengths": "Глубокий анализ, открытость новым идеям, способность признавать ошибки, стремление к точности, креативный подход",
        "weaknesses": "Чрезмерный самоанализ, склонность к сомнениям, прокрастинация, могут застрять в теории без практики",
        "career_advice": "Подходят роли, где важны исследования и постоянное обучение. Рекомендуется работать в командах, где ценится глубокий анализ. Важно научиться доводить проекты до конца и не застревать в перфекционизме.",
        "careers": ["Исследователь", "Разработчик", "Технический писатель", "Ученый", "Системный аналитик"]
    },
    "ENTJ-A": {
        "name": "Командир (Уверенный)",
        "description": "Смелый и волевой лидер, всегда находящий решение.",
        "full_description": "Командиры — прирожденные лидеры. Они обладают харизмой, уверенностью и авторитетом, необходимыми для достижения целей. Уверенные Командиры не сомневаются в своих решениях, быстро оценивают ситуацию и принимают меры. Они видят неэффективность как вызов, который нужно преодолеть.",
        "strengths": "Эффективность, энергичность, уверенность в себе, стратегическое мышление, волевой характер, харизма, умение вдохновлять",
        "weaknesses": "Упрямство, нетерпимость к эмоциям, нетерпеливость, доминирование, могут быть слишком критичны",
        "career_advice": "Превосходны в руководящих ролях и предпринимательстве. Лучше всего работают там, где могут принимать стратегические решения и руководить командами. Важно развивать эмоциональный интеллект и учиться слушать других.",
        "careers": ["CEO", "Менеджер проектов", "Предприниматель", "Бизнес-консультант", "Директор компании"]
    },
    "ENTJ-T": {
        "name": "Командир (Турбулентный)",
        "description": "Целеустремленный лидер, ориентированный на постоянное улучшение.",
        "full_description": "Турбулентные Командиры сочетают лидерские качества с стремлением к совершенствованию. Они более гибки в своем подходе и открыты к обратной связи. Менее уверены, но это делает их более чуткими к потребностям команды и готовыми адаптировать стратегии.",
        "strengths": "Лидерские качества, стремление к развитию, гибкость, умение учиться на ошибках, стратегическое мышление",
        "weaknesses": "Могут быть слишком требовательны к себе, нетерпеливость, склонность к стрессу под давлением",
        "career_advice": "Подходят управленческие позиции, где ценится адаптивность и постоянное улучшение процессов. Важно научиться делегировать и не брать на себя слишком много ответственности. Развивайте эмоциональный интеллект.",
        "careers": ["Управляющий", "Стратег", "Консультант по управлению", "Операционный директор", "Координатор проектов"]
    },
    "ENTP-A": {
        "name": "Полемист (Уверенный)",
        "description": "Умный мыслитель, любящий интеллектуальные вызовы.",
        "full_description": "Полемисты — умные и любознательные интеллектуалы, которые любят ментальные спарринги. Они видят проблемы как головоломки и наслаждаются процессом поиска инновационных решений. Уверенные Полемисты с энтузиазмом бросают вызов статус-кво и не боятся противоречий.",
        "strengths": "Остроумие, харизма, энергичность, креативность, способность видеть возможности, оригинальное мышление",
        "weaknesses": "Спорщики, нечувствительность, нетерпимость к правилам, могут быть непрактичны, отвлекаются на новые идеи",
        "career_advice": "Идеальны для инновационных и динамичных областей. Преуспевают в стартапах, маркетинге и консалтинге. Важно научиться фокусироваться на реализации идей, а не только на их генерации.",
        "careers": ["Стартап-основатель", "Маркетолог", "Адвокат", "Изобретатель", "Бизнес-аналитик"]
    },
    "ENTP-T": {
        "name": "Полемист (Турбулентный)",
        "description": "Креативный мыслитель, постоянно ищущий улучшения.",
        "full_description": "Турбулентные Полемисты сочетают интеллектуальное любопытство с желанием постоянно совершенствоваться. Они более осторожны в споре и чувствительны к реакциям других. Открыты к обратной связи и готовы пересматривать свои идеи.",
        "strengths": "Инновационное мышление, адаптивность, открытость к критике, креативность, энергичность",
        "weaknesses": "Могут быть непостоянны, трудности с фокусировкой, чувствительность к неудачам",
        "career_advice": "Подходят динамичные роли, где ценится креативность и гибкость мышления. Рекомендуется работать с менторами или в командах, которые помогут направить энергию. Развивайте дисциплину завершения проектов.",
        "careers": ["Инноватор", "Креативный директор", "Консультант", "Продакт-менеджер", "Предприниматель"]
    },
    "INFJ-A": {
        "name": "Активист (Уверенный)",
        "description": "Тихий идеалист, вдохновляющий других.",
        "full_description": "Активисты — редкий тип личности, сочетающий идеализм с практичностью. Они глубоко заботятся о других и стремятся изменить мир к лучшему. Уверенные Активисты твердо стоят на своих принципах и уверенно идут по выбранному пути, вдохновляя окружающих.",
        "strengths": "Креативность, проницательность, вдохновляют других, принципиальность, страстность, альтруизм, уверенность в своих ценностях",
        "weaknesses": "Чувствительность, перфекционизм, могут быть слишком идеалистичны, склонность выгорать",
        "career_advice": "Процветают в профессиях, где могут помогать другим и реализовывать свои ценности. Идеальны психология, консультирование, образование и некоммерческий сектор. Важно устанавливать границы, чтобы избежать выгорания.",
        "careers": ["Психолог", "Коуч по карьере", "Консультант", "HR-специалист", "Писатель"]
    },
    "INFJ-T": {
        "name": "Активист (Турбулентный)",
        "description": "Чувствительный идеалист, стремящийся помогать.",
        "full_description": "Турбулентные Активисты глубоко эмпатичны и чувствительны к страданиям других. Они более подвержены стрессу и самокритике, но это делает их невероятно внимательными к нуждам окружающих. Постоянно ищут способы стать лучше и помочь большему числу людей.",
        "strengths": "Глубокая эмпатия, понимание людей, стремление к совершенству в помощи другим, интуитивность",
        "weaknesses": "Высокая чувствительность, склонность к выгоранию, самокритичность, трудности с принятием критики",
        "career_advice": "Подходят профессии помощи и поддержки других. Важно работать в среде, где ценятся эмоциональный интеллект и эмпатия. Необходимо развивать навыки самозаботы и установления границ.",
        "careers": ["Психотерапевт", "Карьерный консультант", "Социальный работник", "Коуч", "Преподаватель"]
    },
    "INFP-A": {
        "name": "Посредник (Уверенный)",
        "description": "Поэтичный альтруист, уверенно следующий своим ценностям.",
        "full_description": "Посредники — истинные идеалисты, всегда ищущие проблески добра даже в худших людях и событиях. Уверенные Посредники спокойны и сдержанны, но внутри них горит страстное желание помогать другим. Они уверены в своих ценностях и не колеблются в их отстаивании.",
        "strengths": "Идеализм, открытость, гибкость, креативность, страстность, альтруизм, верность своим ценностям",
        "weaknesses": "Могут быть непрактичны, слишком идеалистичны, трудности с критикой, могут избегать конфликтов",
        "career_advice": "Превосходны в творческих и гуманитарных профессиях, где могут выражать свои ценности. Идеальны писательство, искусство, психология и образование. Важно найти баланс между идеализмом и практичностью.",
        "careers": ["Писатель", "Художник", "Психолог", "Социальный работник", "Учитель"]
    },
    "INFP-T": {
        "name": "Посредник (Турбулентный)",
        "description": "Чувствительный идеалист с богатым внутренним миром.",
        "full_description": "Турбулентные Посредники обладают невероятно глубоким эмоциональным миром и высокой чувствительностью к красоте и страданию. Они более склонны к самокритике и переживаниям, но это усиливает их эмпатию и креативность. Постоянно ищут смысл и стремятся к самовыражению.",
        "strengths": "Глубокая эмпатия, креативность, идеализм, открытость к новому опыту, страстность",
        "weaknesses": "Высокая чувствительность, склонность к самокритике, трудности с практическими задачами, избегание конфликтов",
        "career_advice": "Подходят профессии, где важны эмоциональная глубина и креативность. Рекомендуется работать в поддерживающей среде. Важно развивать уверенность в себе и навыки работы с критикой.",
        "careers": ["Терапевт", "Креативный писатель", "Музыкант", "Консультант", "Художник"]
    },
    "ENFJ-A": {
        "name": "Тренер (Уверенный)",
        "description": "Харизматичный лидер, вдохновляющий других на достижения.",
        "full_description": "Тренеры — прирожденные лидеры, полные страсти и харизмы. Они умеют объединять людей вокруг общей цели и вдохновлять их на лучшие достижения. Уверенные Тренеры легко берут на себя руководство и с энтузиазмом ведут других к успеху.",
        "strengths": "Харизма, альтруизм, лидерские качества, надежность, способность вдохновлять, толерантность",
        "weaknesses": "Чрезмерно идеалистичны, слишком самоотверженны, могут быть навязчивы, чувствительны к критике",
        "career_advice": "Идеальны для преподавания, коучинга, управления персоналом и любых ролей, где нужно вдохновлять людей. Важно следить за балансом между помощью другим и заботой о себе.",
        "careers": ["Коуч", "Учитель", "HR-директор", "Политик", "Мотивационный спикер"]
    },
    "ENFJ-T": {
        "name": "Тренер (Турбулентный)",
        "description": "Заботливый лидер, стремящийся к гармонии.",
        "full_description": "Турбулентные Тренеры глубоко заботятся о благополучии других и чувствительны к групповой динамике. Они более склонны к самокритике и переживаниям о том, достаточно ли хорошо помогают другим. Это делает их особенно чуткими и внимательными лидерами.",
        "strengths": "Эмпатия, лидерские качества, стремление к гармонии, способность понимать людей, альтруизм",
        "weaknesses": "Чрезмерная забота о мнении других, склонность к выгоранию, самокритичность, трудности с конфликтами",
        "career_advice": "Подходят роли, где важны межличностные навыки и создание поддерживающей среды. Важно учиться устанавливать границы и заботиться о себе наравне с заботой о других.",
        "careers": ["Преподаватель", "Организатор мероприятий", "Наставник", "HR-менеджер", "Консультант"]
    },
    "ENFP-A": {
        "name": "Борец (Уверенный)",
        "description": "Энтузиаст и свободный дух, уверенно идущий к мечтам.",
        "full_description": "Борцы — истинные свободные духи, общительные, открытые и креативные. Уверенные Борцы живут полной жизнью и рассматривают жизнь как большое захватывающее приключение. Они полны энтузиазма и уверенности, легко воодушевляют других своими идеями.",
        "strengths": "Энтузиазм, креативность, общительность, наблюдательность, энергичность, популярность, дружелюбие",
        "weaknesses": "Могут быть непрактичны, трудности с фокусировкой, стресс от рутины, эмоциональная нестабильность",
        "career_advice": "Процветают в динамичных, креативных средах. Идеальны маркетинг, PR, развлечения и предпринимательство. Важно развивать дисциплину и умение завершать начатое.",
        "careers": ["Маркетолог", "Актер", "Журналист", "Предприниматель", "Креативный директор"]
    },
    "ENFP-T": {
        "name": "Борец (Турбулентный)",
        "description": "Креативный энтузиаст, чувствительный к окружающим.",
        "full_description": "Турбулентные Борцы сочетают креативность и энтузиазм с эмоциональной чувствительностью. Они более подвержены стрессу и переживаниям, но это делает их особенно чуткими к эмоциям других. Постоянно ищут новые способы самовыражения и связи с людьми.",
        "strengths": "Креативность, эмпатия, энтузиазм, открытость, способность адаптироваться",
        "weaknesses": "Эмоциональная чувствительность, трудности с завершением проектов, склонность к стрессу, непрактичность",
        "career_advice": "Подходят роли, где ценятся креативность и межличностные навыки. Важно работать в поддерживающей среде и развивать навыки управления временем и эмоциями.",
        "careers": ["Копирайтер", "Дизайнер", "PR-специалист", "Event-координатор", "Контент-креатор"]
    },
    "ISTJ-A": {
        "name": "Администратор (Уверенный)",
        "description": "Практичный и надежный, уверенный в своих методах.",
        "full_description": "Администраторы — олицетворение надежности и практичности. Уверенные Администраторы ценят честность, следуют правилам и традициям, и гордятся своей способностью выполнять обязательства. Они не сомневаются в своих методах работы.",
        "strengths": "Честность, практичность, надежность, ответственность, спокойствие, лояльность, организованность",
        "weaknesses": "Упрямство, нечувствительность, следование правилам любой ценой, сопротивление изменениям, слишком серьезны",
        "career_advice": "Превосходны в ролях, требующих точности, ответственности и следования процедурам. Идеальны финансы, бухгалтерия, администрирование. Важно развивать гибкость мышления.",
        "careers": ["Бухгалтер", "Аудитор", "Менеджер", "Инженер", "Системный администратор"]
    },
    "ISTJ-T": {
        "name": "Администратор (Турбулентный)",
        "description": "Ответственный и внимательный к деталям.",
        "full_description": "Турбулентные Администраторы сочетают практичность с повышенным вниманием к деталям и стремлением к совершенству. Они более склонны переживать о качестве работы, что делает их особенно тщательными и ответственными сотрудниками.",
        "strengths": "Внимание к деталям, ответственность, надежность, стремление к качеству, организованность",
        "weaknesses": "Склонность к перфекционизму, переживания о работе, могут быть негибкими, трудности с изменениями",
        "career_advice": "Подходят роли, где важны точность и качество работы. Рекомендуется работать в структурированной среде. Важно научиться принимать несовершенство и развивать гибкость.",
        "careers": ["Аналитик качества", "Инспектор", "Специалист по комплаенсу", "Администратор БД", "Логист"]
    },
    "ISFJ-A": {
        "name": "Защитник (Уверенный)",
        "description": "Преданный и теплый защитник близких.",
        "full_description": "Защитники — настоящие альтруисты, которые с добротой и щедростью откликаются на потребности других. Уверенные Защитники спокойно и методично заботятся о других, не сомневаясь в важности своей роли. Они создают гармонию и стабильность вокруг себя.",
        "strengths": "Надежность, терпение, воображение, наблюдательность, энтузиазм, лояльность, трудолюбие",
        "weaknesses": "Слишком скромны, подавляют чувства, избегают изменений, слишком альтруистичны",
        "career_advice": "Идеальны для профессий помощи и заботы. Преуспевают в медицине, образовании, администрировании. Важно научиться говорить 'нет' и заботиться о своих потребностях.",
        "careers": ["Медсестра", "Учитель начальных классов", "Библиотекарь", "Офис-менеджер", "Администратор"]
    },
    "ISFJ-T": {
        "name": "Защитник (Турбулентный)",
        "description": "Заботливый и чувствительный к нуждам других.",
        "full_description": "Турбулентные Защитники глубоко чувствуют потребности окружающих и склонны ставить других выше себя. Они более чувствительны к критике и переживают, достаточно ли хорошо заботятся о других. Это делает их особенно внимательными и преданными.",
        "strengths": "Глубокая забота о других, внимательность, преданность, эмпатия, надежность",
        "weaknesses": "Чрезмерная самоотверженность, трудности с установлением границ, чувствительность к критике, склонность к выгоранию",
        "career_advice": "Подходят роли помощи и поддержки. Важно работать в ценящей среде и учиться заботиться о себе. Развивайте уверенность в своей ценности.",
        "careers": ["Социальный работник", "Помощник врача", "Координатор", "Административный ассистент", "Воспитатель"]
    },
    "ESTJ-A": {
        "name": "Менеджер (Уверенный)",
        "description": "Превосходный администратор, мастер управления.",
        "full_description": "Менеджеры — воплощение порядка и организации. Уверенные Менеджеры умеют управлять людьми и процессами, ценят честность и традиции. Они уверенно принимают решения и берут на себя ответственность за результаты.",
        "strengths": "Организованность, ответственность, честность, лояльность, лидерские качества, эффективность",
        "weaknesses": "Негибкость, нетерпимость к нестандартным подходам, трудности с эмоциями, могут быть слишком доминирующими",
        "career_advice": "Превосходны в управленческих и административных ролях. Идеальны для позиций, требующих организации и контроля. Важно развивать эмоциональный интеллект и гибкость.",
        "careers": ["Руководитель отдела", "Менеджер проектов", "Директор", "Судья", "Военный офицер"]
    },
    "ESTJ-T": {
        "name": "Менеджер (Турбулентный)",
        "description": "Организованный руководитель, стремящийся к улучшению.",
        "full_description": "Турбулентные Менеджеры сочетают организаторские способности с желанием постоянно совершенствовать процессы. Они более открыты к обратной связи и склонны переживать о качестве управления. Это делает их более гибкими лидерами.",
        "strengths": "Организация, стремление к улучшению, ответственность, внимание к процессам, лидерство",
        "weaknesses": "Могут быть слишком требовательны к себе и другим, склонность к стрессу, негибкость в новых ситуациях",
        "career_advice": "Подходят управленческие роли, где важны организация и эффективность. Рекомендуется развивать гибкость и эмоциональный интеллект. Учитесь делегировать.",
        "careers": ["Супервайзер", "Операционный менеджер", "Администратор", "Инспектор качества", "Управляющий"]
    },
    "ESFJ-A": {
        "name": "Консул (Уверенный)",
        "description": "Заботливый и популярный помощник.",
        "full_description": "Консулы — социальные бабочки, которые обожают помогать другим и создавать гармонию. Уверенные Консулы легко организуют людей и события, уверенно берут на себя роль заботливого лидера. Они ценят традиции и стабильность.",
        "strengths": "Лояльность, чуткость, практичность, организованность, популярность, альтруизм",
        "weaknesses": "Беспокойство о статусе, негибкость, уязвимость к критике, слишком самоотверженны, трудности с принятием изменений",
        "career_advice": "Идеальны для ролей, связанных с людьми и организацией событий. Преуспевают в здравоохранении, образовании, гостеприимстве. Важно учиться ставить свои потребности на первое место.",
        "careers": ["Администратор здравоохранения", "Учитель", "Event-менеджер", "PR-менеджер", "Менеджер по продажам"]
    },
    "ESFJ-T": {
        "name": "Консул (Турбулентный)",
        "description": "Чуткий организатор, заботящийся о других.",
        "full_description": "Турбулентные Консулы глубоко чувствуют потребности окружающих и переживают о качестве своей помощи. Они более чувствительны к критике и мнению других, что делает их особенно внимательными к социальной гармонии.",
        "strengths": "Эмпатия, организованность, забота о других, внимательность, социальные навыки",
        "weaknesses": "Чрезмерная чувствительность к критике, склонность к выгоранию, беспокойство о мнении других, трудности с конфликтами",
        "career_advice": "Подходят роли поддержки и организации. Важно работать в ценящей среде и развивать уверенность в себе. Учитесь устанавливать границы.",
        "careers": ["Координатор", "Помощник менеджера", "Рекрутер", "Специалист по работе с клиентами", "Организатор мероприятий"]
    },
    "ISTP-A": {
        "name": "Виртуоз (Уверенный)",
        "description": "Смелый экспериментатор с любыми инструментами.",
        "full_description": "Виртуозы — прирожденные мастера, которые любят работать руками и исследовать мир через прямой опыт. Уверенные Виртуозы спокойно и уверенно справляются с любыми техническими задачами, не боясь экспериментировать.",
        "strengths": "Оптимизм, креативность, практичность, спонтанность, рациональность, умение работать с кризисами",
        "weaknesses": "Упрямство, нечувствительность, склонность к риску, трудности с долгосрочным планированием",
        "career_advice": "Превосходны в технических и практических ролях. Идеальны инженерия, механика, программирование. Важно найти баланс между экспериментами и ответственностью.",
        "careers": ["Механик", "Инженер", "Пилот", "Программист", "Форензик-аналитик"]
    },
    "ISTP-T": {
        "name": "Виртуоз (Турбулентный)",
        "description": "Практичный экспериментатор, открытый новому опыту.",
        "full_description": "Турбулентные Виртуозы сочетают практичность с гибкостью мышления. Они более открыты к обратной связи и склонны пересматривать свои подходы. Это делает их адаптивными специалистами, готовыми учиться на опыте.",
        "strengths": "Практичность, гибкость, креативность, умение адаптироваться, технические навыки",
        "weaknesses": "Могут быть непоследовательны, трудности с эмоциями, склонность к прокрастинации в нелюбимых задачах",
        "career_advice": "Подходят технические роли, где ценятся практические навыки и решение проблем. Важно развивать дисциплину и навыки планирования.",
        "careers": ["Техник", "Разработчик", "Ремонтник", "Тестировщик", "Специалист технической поддержки"]
    },
    "ISFP-A": {
        "name": "Художник (Уверенный)",
        "description": "Гибкий художник, готовый к экспериментам.",
        "full_description": "Художники — истинные эстеты, которые живут в мире красоты и гармонии. Уверенные Художники спокойно следуют своему видению, экспериментируют и исследуют новые формы самовыражения без страха осуждения.",
        "strengths": "Очаровательность, чувствительность к красоте, воображение, страстность, любознательность, артистичность",
        "weaknesses": "Непредсказуемость, легко подвергаются стрессу, слишком конкурентны, флуктуирующая самооценка",
        "career_advice": "Идеальны для творческих профессий. Преуспевают в искусстве, дизайне, музыке. Важно развивать практические навыки и финансовую грамотность для стабильности.",
        "careers": ["Дизайнер", "Художник", "Музыкант", "Фотограф", "Стилист"]
    },
    "ISFP-T": {
        "name": "Художник (Турбулентный)",
        "description": "Чувствительный творец с богатым внутренним миром.",
        "full_description": "Турбулентные Художники обладают глубокой эмоциональной чувствительностью и тонким восприятием красоты. Они более склонны к самокритике, но это усиливает их стремление к совершенству в творчестве. Очень чувствительны к эстетике и эмоциям.",
        "strengths": "Креативность, эмоциональная глубина, чувствительность к красоте, открытость опыту",
        "weaknesses": "Высокая чувствительность, самокритичность, трудности с практическими задачами, склонность к стрессу",
        "career_advice": "Подходят творческие профессии, где важна эмоциональная выразительность. Рекомендуется работать в поддерживающей среде. Развивайте уверенность в своих работах.",
        "careers": ["Иллюстратор", "Креативный ассистент", "Декоратор интерьеров", "Флорист", "Ювелир"]
    },
    "ESTP-A": {
        "name": "Делец (Уверенный)",
        "description": "Энергичный делец, живущий на грани.",
        "full_description": "Дельцы — энергичные люди действия, которые живут настоящим моментом. Уверенные Дельцы смело идут на риск, быстро принимают решения и уверенно справляются с кризисами. Они наслаждаются драмой, страстью и удовольствием.",
        "strengths": "Смелость, рациональность, практичность, оригинальность, проницательность, общительность",
        "weaknesses": "Нечувствительность, нетерпеливость, склонность к риску, не структурированы, могут упускать общую картину",
        "career_advice": "Превосходны в динамичных, высокорисковых средах. Идеальны продажи, предпринимательство, трейдинг. Важно развивать долгосрочное мышление и эмоциональный интеллект.",
        "careers": ["Предприниматель", "Менеджер по продажам", "Маркетолог", "Профессиональный спортсмен", "Трейдер"]
    },
    "ESTP-T": {
        "name": "Делец (Турбулентный)",
        "description": "Адаптивный делец, быстро реагирующий на изменения.",
        "full_description": "Турбулентные Дельцы сочетают энергичность с гибкостью и открытостью к обратной связи. Они более осторожны в рисках и склонны учиться на ошибках. Это делает их адаптивными специалистами в динамичных средах.",
        "strengths": "Адаптивность, энергичность, практичность, быстрая реакция, социальные навыки",
        "weaknesses": "Могут быть импульсивны, трудности с долгосрочным планированием, чувствительность к неудачам",
        "career_advice": "Подходят динамичные роли продаж и работы с клиентами. Важно развивать стратегическое мышление. Учитесь планировать наперед.",
        "careers": ["Агент по продажам", "Промоутер", "Бизнес-аналитик", "Менеджер по работе с клиентами", "Торговый представитель"]
    },
    "ESFP-A": {
        "name": "Развлекатель (Уверенный)",
        "description": "Спонтанный артист, любящий быть в центре внимания.",
        "full_description": "Развлекатели — прирожденные артисты, которые любят быть в центре внимания и делать других счастливыми. Уверенные Развлекатели живут настоящим моментом, полны энтузиазма и уверенно выступают перед любой аудиторией.",
        "strengths": "Смелость, оригинальность, эстетичность, практичность, наблюдательность, превосходные навыки общения",
        "weaknesses": "Чувствительность, конфликтность, легко заскучают, непрактичны, избегают долгосрочного планирования",
        "career_advice": "Идеальны для развлечений и работы с людьми. Преуспевают в актерстве, организации событий, гостеприимстве. Важно развивать финансовую дисциплину.",
        "careers": ["Актер", "Ведущий мероприятий", "Event-менеджер", "Фитнес-тренер", "Организатор развлечений"]
    },
    "ESFP-T": {
        "name": "Развлекатель (Турбулентный)",
        "description": "Эмоциональный артист, чувствительный к реакции аудитории.",
        "full_description": "Турбулентные Развлекатели глубоко чувствуют эмоции аудитории и переживают о качестве своих выступлений. Они более чувствительны к критике, но это делает их особенно чуткими к настроению окружающих и мотивирует совершенствоваться.",
        "strengths": "Эмпатия, энергичность, креативность, социальные навыки, чувствительность к эмоциям",
        "weaknesses": "Высокая чувствительность к критике, трудности с планированием, могут быть эмоционально нестабильны",
        "career_advice": "Подходят развлекательные и социальные роли. Важно работать в поддерживающей среде. Развивайте уверенность в себе и навыки управления эмоциями.",
        "careers": ["Аниматор", "Хостес", "Промоутер", "Координатор развлечений", "Социальный медиа менеджер"]
    }
}


def calculate_personality_type(answers: dict) -> dict:
    dimensions = {
        "mind": [],
        "energy": [],
        "nature": [],
        "tactics": [],
        "identity": []
    }
    
    for question in PERSONALITY_QUESTIONS:
        answer_value = answers.get(question["id"])
        if answer_value is None:
            continue
            
        score = answer_value
        if question["reverse"]:
            score = 8 - score
            
        dimensions[question["dimension"]].append(score)
    
    avg_scores = {}
    for dim, scores in dimensions.items():
        if scores:
            avg_scores[dim] = sum(scores) / len(scores)
        else:
            avg_scores[dim] = 4
    
    mind_type = "E" if avg_scores["mind"] >= 4 else "I"
    energy_type = "N" if avg_scores["energy"] >= 4 else "S"
    nature_type = "T" if avg_scores["nature"] >= 4 else "F"
    tactics_type = "J" if avg_scores["tactics"] >= 4 else "P"
    identity_type = "A" if avg_scores["identity"] >= 4 else "T"
    
    code = f"{mind_type}{energy_type}{nature_type}{tactics_type}"
    full_code = f"{code}-{identity_type}"
    
    personality_info = PERSONALITY_TYPES.get(full_code, {
        "name": "Неопределенный тип",
        "description": "Ваш тип личности уникален",
        "full_description": "Ваш тип личности представляет уникальное сочетание характеристик",
        "strengths": "Уникальное сочетание качеств",
        "weaknesses": "Индивидуальные особенности",
        "career_advice": "Исследуйте различные области для поиска своего призвания",
        "careers": ["Универсальный специалист"]
    })
    
    return {
        "code": full_code,
        "personality_type": personality_info["name"],
        "description": personality_info["description"],
        "full_description": personality_info["full_description"],
        "strengths": personality_info["strengths"],
        "weaknesses": personality_info["weaknesses"],
        "career_advice": personality_info["career_advice"],
        "careers": personality_info["careers"],
        "mind_score": int(avg_scores["mind"] * 100 / 7),
        "energy_score": int(avg_scores["energy"] * 100 / 7),
        "nature_score": int(avg_scores["nature"] * 100 / 7),
        "tactics_score": int(avg_scores["tactics"] * 100 / 7),
        "identity_score": int(avg_scores["identity"] * 100 / 7)
    }
