# üìù Changelog: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

## –î–∞—Ç–∞: 30 –æ–∫—Ç—è–±—Ä—è 2025

### ‚ú® –î–æ–±–∞–≤–ª–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

–ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å **Fusion Brain API (Kandinsky)** –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –æ–ø–∏—Å–∞–Ω–∏–π.

---

## üì¶ –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã

### Backend

1. **`src/utils/fusion_brain.py`**
   - –ö–ª–∞—Å—Å `FusionBrainAPI` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Kandinsky API
   - –ú–µ—Ç–æ–¥—ã: –≥–µ–Ω–µ—Ä–∞—Ü–∏—è, –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞, –ø–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∏–ª–µ–π
   - –ü–æ–ª–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è

2. **`src/models/image_model.py`**
   - Pydantic –º–æ–¥–µ–ª–∏ –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤
   - `ImageGenerateRequest` - –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
   - `ImageGenerateResponse` - —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å base64 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º
   - `StylesResponse`, `ServiceStatusResponse`

3. **`src/routes/image_routes.py`**
   - –†–æ—É—Ç–µ—Ä `/images` —Å 3 —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º–∏
   - `POST /images/generate` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
   - `GET /images/styles` - —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å—Ç–∏–ª–µ–π
   - `GET /images/status` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–∏—Å–∞

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

4. **`FRONTEND_IMAGE_API_GUIDE.md`** ‚≠ê
   - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
   - –ü—Ä–∏–º–µ—Ä—ã –Ω–∞ JavaScript, React, TypeScript, Axios
   - –ì–æ—Ç–æ–≤—ã–µ HTML –ø—Ä–∏–º–µ—Ä—ã
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ best practices
   - 300+ —Å—Ç—Ä–æ–∫ –ø–æ–¥—Ä–æ–±–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

5. **`ENV_SETUP.md`**
   - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
   - –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å API –∫–ª—é—á–∏ Fusion Brain

6. **`CHANGELOG_IMAGE_GENERATION.md`** (—ç—Ç–æ—Ç —Ñ–∞–π–ª)
   - –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π

---

## üîß –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### Backend

1. **`src/config.py`**
   - –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Fusion Brain API:
     - `FUSION_BRAIN_API_KEY`
     - `FUSION_BRAIN_SECRET_KEY`
     - `FUSION_BRAIN_API_URL`

2. **`src/routes/__init__.py`**
   - –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç `image_router`

3. **`main.py`**
   - –ü–æ–¥–∫–ª—é—á–µ–Ω `image_router` –∫ FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é

4. **`README.md`**
   - –î–æ–±–∞–≤–ª–µ–Ω–æ –æ–ø–∏—Å–∞–Ω–∏–µ –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
   - –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API
   - –°—Å—ã–ª–∫–∏ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

---

## üéØ API –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã

### 1. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
```
POST /images/generate
```
**–¢—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏**: Bearer —Ç–æ–∫–µ–Ω

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**:
- `prompt` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) - —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ (–¥–æ 1000 —Å–∏–º–≤–æ–ª–æ–≤)
- `width` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - —à–∏—Ä–∏–Ω–∞ –≤ px (–∫—Ä–∞—Ç–Ω–æ 64, –º–∞–∫—Å 1024), default: 1024
- `height` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - –≤—ã—Å–æ—Ç–∞ –≤ px (–∫—Ä–∞—Ç–Ω–æ 64, –º–∞–∫—Å 1024), default: 1024
- `style` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - —Å—Ç–∏–ª—å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ (ANIME, UHD, –∏ –¥—Ä.)
- `negative_prompt` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - —á—Ç–æ –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏

**–û—Ç–≤–µ—Ç**:
- `image_base64` - –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ Base64
- `prompt` - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ–º–ø—Ç
- `width`, `height` - —Ä–∞–∑–º–µ—Ä—ã
- `style` - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–π —Å—Ç–∏–ª—å

**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**: 30-120 —Å–µ–∫—É–Ω–¥ (–¥–æ 5 –º–∏–Ω—É—Ç –º–∞–∫—Å)

### 2. –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∏–ª–µ–π
```
GET /images/styles
```
**–¢—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏**: Bearer —Ç–æ–∫–µ–Ω

**–û—Ç–≤–µ—Ç**: –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å—Ç–∏–ª–µ–π —Å –ø—Ä–µ–≤—å—é –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
```
GET /images/status
```
**–¢—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏**: Bearer —Ç–æ–∫–µ–Ω

**–û—Ç–≤–µ—Ç**: –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–∏—Å–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

---

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –æ–∫—Ä—É–∂–µ–Ω–∏—é

–î–æ–±–∞–≤—å—Ç–µ –≤ `.env`:

```env
FUSION_BRAIN_API_KEY=your-api-key
FUSION_BRAIN_SECRET_KEY=your-secret-key
FUSION_BRAIN_API_URL=https://api-key.fusionbrain.ai/
```

---

## ‚öôÔ∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –í–∞–ª–∏–¥–∞—Ü–∏—è
- ‚úÖ –†–∞–∑–º–µ—Ä—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∫—Ä–∞—Ç–Ω—ã 64
- ‚úÖ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä: 1024x1024
- ‚úÖ –ü—Ä–æ–º–ø—Ç: 1-1000 —Å–∏–º–≤–æ–ª–æ–≤
- ‚úÖ –ú–æ–¥–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏—è —Å—Ç–æ—Ä–æ–Ω
- 1:1 (1024x1024) - –∫–≤–∞–¥—Ä–∞—Ç
- 2:3 (704x1024) - –ø–æ—Ä—Ç—Ä–µ—Ç
- 3:2 (1024x704) - –∞–ª—å–±–æ–º
- 9:16 (576x1024) - –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ –≤–∏–¥–µ–æ
- 16:9 (1024x576) - –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –≤–∏–¥–µ–æ

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- `401` - –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π —Ç–æ–∫–µ–Ω
- `400` - –Ω–µ–≤–µ—Ä–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (—Ä–∞–∑–º–µ—Ä—ã, –ø—Ä–æ–º–ø—Ç)
- `408` - —Ç–∞–π–º–∞—É—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
- `502` - –æ—à–∏–±–∫–∞ Fusion Brain API
- `500` - –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞

---

## üé® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

1. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π**
   - –ü–æ —Ç–µ–∫—Å—Ç–æ–≤–æ–º—É –æ–ø–∏—Å–∞–Ω–∏—é –Ω–∞ –ª—é–±–æ–º —è–∑—ã–∫–µ
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ emoji –≤ –ø—Ä–æ–º–ø—Ç–∞—Ö
   - –î–æ 1024x1024 –ø–∏–∫—Å–µ–ª–µ–π

2. **–°—Ç–∏–ª–∏**
   - ANIME - –∞–Ω–∏–º–µ —Å—Ç–∏–ª—å
   - UHD - —É–ª—å—Ç—Ä–∞ HD –∫–∞—á–µ—Å—Ç–≤–æ
   - KANDINSKY - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Å—Ç–∏–ª—å
   - –ò –¥—Ä—É–≥–∏–µ (—Å–º. `/images/styles`)

3. **–ù–µ–≥–∞—Ç–∏–≤–Ω—ã–π –ø—Ä–æ–º–ø—Ç**
   - –ò—Å–∫–ª—é—á–µ–Ω–∏–µ –Ω–µ–∂–µ–ª–∞—Ç–µ–ª—å–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
   - –ö–æ–Ω—Ç—Ä–æ–ª—å –∫–∞—á–µ—Å—Ç–≤–∞ –∏ —Å—Ç–∏–ª—è

4. **–ú–æ–¥–µ—Ä–∞—Ü–∏—è**
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∑–∞–ø—Ä–µ—â–µ–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
   - –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

---

## üöÄ –î–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

### –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```javascript
// 1. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
const response = await fetch('http://localhost:8000/images/generate', {
  method: 'POST',
  headers: {
    'Authorization': `Bearer ${token}`,
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    prompt: '–ó–∞–∫–∞—Ç –Ω–∞ –ú–∞—Ä—Å–µ',
    width: 1024,
    height: 1024
  })
});

const data = await response.json();

// 2. –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
<img src={`data:image/png;base64,${data.image_base64}`} />
```

### –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
üìñ **[FRONTEND_IMAGE_API_GUIDE.md](FRONTEND_IMAGE_API_GUIDE.md)** - 300+ —Å—Ç—Ä–æ–∫ —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏!

---

## ‚úÖ –ß—Ç–æ –ù–ï –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

- ‚ùå –°—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –Ω–µ –∑–∞—Ç—Ä–æ–Ω—É—Ç
- ‚ùå –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ –∏–∑–º–µ–Ω–µ–Ω–∞
- ‚ùå –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –ø—Ä–µ–∂–¥–µ
- ‚ùå –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä: `python main.py`
2. –û—Ç–∫—Ä–æ–π—Ç–µ Swagger UI: http://localhost:8000/docs
3. –ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å
4. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "Image Generation"
5. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

---

## üìû Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: 401 Unauthorized
**–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ API –∫–ª—é—á–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —É–∫–∞–∑–∞–Ω—ã –≤ `.env`

### –ü—Ä–æ–±–ª–µ–º–∞: 400 Bad Request (—Ä–∞–∑–º–µ—Ä—ã)
**–†–µ—à–µ–Ω–∏–µ**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ width –∏ height –∫—Ä–∞—Ç–Ω—ã 64

### –ü—Ä–æ–±–ª–µ–º–∞: 408 Timeout
**–†–µ—à–µ–Ω–∏–µ**: 
- –£–º–µ–Ω—å—à–∏—Ç–µ —Ä–∞–∑–º–µ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑
- –£–≤–µ–ª–∏—á—å—Ç–µ —Ç–∞–π–º–∞—É—Ç –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ –¥–æ 6 –º–∏–Ω—É—Ç

### –ü—Ä–æ–±–ª–µ–º–∞: "–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–µ –ø—Ä–æ—à–ª–æ –º–æ–¥–µ—Ä–∞—Ü–∏—é"
**–†–µ—à–µ–Ω–∏–µ**: –ò–∑–º–µ–Ω–∏—Ç–µ –ø—Ä–æ–º–ø—Ç, –∏–∑–±–µ–≥–∞–π—Ç–µ –∑–∞–ø—Ä–µ—â–µ–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

---

## üéâ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

–í–µ—Å—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω –∏ –≥–æ—Ç–æ–≤ –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ.

**–£–¥–∞—á–∏! üöÄ**

